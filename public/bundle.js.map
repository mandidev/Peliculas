{"version":3,"file":"bundle.js","sources":["../src/fetchGeneros.js","../src/obtenerGenero.js","../src/fetchPopulares.js","../src/cargarTitulos.js","../src/cargarGeneros.js","../src/listenerFiltroTipo.js","../src/listenerFiltroGeneros.js","../src/fetchBusqueda.js","../src/listenerBuscar.js","../src/index.js"],"sourcesContent":["const fetchGeneros = async(filtro = 'movie') => {\r\n    const tipo = filtro === 'movie' ? 'movie' : 'tv';\r\n    \r\n    const url = `https://api.themoviedb.org/3/genre/${tipo}/list?api_key=5e0fe0122bea533a17eade33e2cae17d&language=es`;\r\n\r\n    try {\r\n        const response = await fetch(url);\r\n        const data = await response.json();\r\n        return data.genres;\r\n    } catch(e){\r\n        console.log(e);\r\n    };\r\n};\r\n\r\nexport default fetchGeneros","const obtenerGenero = (id, generos) => {\r\n    let nombre;\r\n\r\n    generos.forEach( (elemento) => {\r\n        try {\r\n            if(id === elemento.id){\r\n                nombre = elemento.name;\r\n            };\r\n        } catch {\r\n            nombre = 'error 404'\r\n        }\r\n    });\r\n    return nombre;\r\n};\r\n\r\nexport default obtenerGenero;","import fetchGeneros from \"./fetchGeneros\";\r\nimport obtenerGenero from \"./obtenerGenero\";\r\n\r\n\r\nconst fetchPopulares = async(filtro = 'movie') => {\r\n    const tipo = filtro === 'movie' ? 'movie' : 'tv';\r\n    const url = `https://api.themoviedb.org/3/${tipo}/popular?api_key=5e0fe0122bea533a17eade33e2cae17d&language=es-MX&page=1`\r\n\r\n    try {\r\n        const response = await fetch(url);\r\n        const data = await response.json();\r\n        const resultados = data.results;\r\n        const generos = await fetchGeneros();\r\n\r\n        resultados.forEach( (resultado) => {\r\n            resultado.genero = obtenerGenero(resultado.genre_ids[0], generos)\r\n            \r\n        });\r\n        return resultados;\r\n    } catch(e){\r\n        console.log(e);\r\n    }\r\n};\r\n\r\nexport default fetchPopulares;","const cargarTitulo = (resultados) => {    \r\n    const contenedor = document.querySelector('#populares .main__grid');\r\n    contenedor.innerHTML = '';\r\n    \r\n    resultados.forEach( (resultado) => {\r\n        const plantilla = `\r\n            <div class=\"main__media\">\r\n                <a href=\"#\" class=\"main__media-thumb\">\r\n                    <img class=\"main__media-img\" src=\"https://image.tmdb.org/t/p/w500/${resultado.poster_path}\" alt=\"\" />\r\n                </a>\r\n                <p class=\"main__media-titulo\">${resultado.title}</p>\r\n                <p class=\"main__media-fecha\">${resultado.genero}</p>\r\n            </div>\r\n        `;\r\n\r\n        contenedor.insertAdjacentHTML('beforeend', plantilla);\r\n    });\r\n};\r\n\r\nexport default cargarTitulo;","import fetchGeneros from \"./fetchGeneros\";\r\n\r\nconst contenedorGeneros = document.getElementById('filtro-generos');\r\n\r\nconst cargarGeneros = async(filtro) => {\r\n    const generos = await fetchGeneros(filtro);\r\n    contenedorGeneros.innerHTML = '';\r\n\r\n    generos.forEach( (genero) => {\r\n        const btn = document.createElement('button');\r\n        btn.classList.add('btn');\r\n        btn.innerText = genero.name;\r\n        btn.setAttribute('data-id', genero.id);\r\n        contenedorGeneros.appendChild(btn);\r\n    });\r\n};\r\n\r\nexport default cargarGeneros;","import cargarGeneros from \"./cargarGeneros\";\r\nimport fetchPopulares from \"./fetchPopulares\";\r\nimport cargarTitulo from \"./cargarTitulos\";\r\n\r\nconst filtroPelicula = document.getElementById('movie');\r\nconst filtroShow = document.getElementById('tv');\r\n\r\n\r\n\r\nfiltroPelicula.addEventListener('click', async(e) => {\r\n    e.preventDefault();\r\n    cargarGeneros('movie');\r\n    const resultados = await fetchPopulares('movie');\r\n    cargarTitulo(resultados);\r\n    filtroShow.classList.remove('btn--active');\r\n    filtroPelicula.classList.add('btn--active');\r\n    document.querySelector('#populares .main__titulo').innerText = 'Peliculas Populares';\r\n});\r\n\r\n\r\n\r\nfiltroShow.addEventListener('click', async(e) => {\r\n    e.preventDefault();\r\n\r\n    cargarGeneros('tv');\r\n\r\n    const resultados = await fetchPopulares('tv');\r\n\r\n    cargarTitulo(resultados);\r\n    filtroPelicula.classList.remove('btn--active');\r\n    filtroShow.classList.add('btn--active');\r\n    document.querySelector('#populares .main__titulo').innerText = 'Series Populares';\r\n});","const contenedor = document.getElementById('filtro-generos');\r\n\r\ncontenedor.addEventListener('click', (e) => {\r\n    e.preventDefault();\r\n\r\n    if(e.target.closest('button')) {\r\n        contenedor.querySelector('.btn--active')?.classList.remove('btn--active');\r\n\r\n        e.target.classList.add('btn--active');\r\n    }\r\n});","const fetchBusqueda = () => {\r\n    const tipo = document.querySelector('.main__filtros .btn--active')?.id;\r\n    const idGenero = document.querySelector('#filtro-generos .btn--active')?.dataset.id;\r\n    const year = document.getElementById('year').value || 2023;\r\n\r\n    let url;\r\n    if(tipo === 'movie'){\r\n        url = `https://api.themoviedb.org/3/search/movie?api_key=5e0fe0122bea533a17eade33e2cae17d&language=es-MX&region=US&sort_by=popularity.desc&include_adult=true&page=1&release_date.gte=${year}`;\r\n\r\n    } else if (tipo === 'tv'){\r\n        url = `https://api.themoviedb.org/3/search/tv?api_key=5e0fe0122bea533a17eade33e2cae17d&language=es-MX&region=US&sort_by=popularity.desc&include_adult=true&page=1`;\r\n    }\r\n};\r\n\r\nexport default fetchBusqueda;","import fetchBusqueda from \"./fetchBusqueda\";\r\n\r\nconst btn = document.getElementById('btn-buscar');\r\n\r\nbtn.addEventListener('click', (e) => {\r\n    fetchBusqueda()\r\n});","import fetchPopulares from \"./fetchPopulares\";\r\nimport cargarTitulo from \"./cargarTitulos\";\r\nimport cargarGeneros from \"./cargarGeneros\";\r\nimport './listenerFiltroTipo';\r\nimport './listenerFiltroGeneros'\r\nimport './listenerBuscar'\r\n\r\nconst cargar = async() => {\r\n    const resultados = await fetchPopulares('movie');\r\n    cargarTitulo(resultados);\r\n    cargarGeneros('movie')\r\n\r\n}\r\n\r\ncargar()"],"names":[],"mappings":"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"}